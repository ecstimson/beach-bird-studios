---
/** ServiceCards.astro
 * Beach Bird Studios canonical service cards
 * Three-card layout: Custom Design, AI Development (featured), SEO Services
 */
export interface Service {
  title: string
  headline?: string
  description: string
  bullets: string[]
  href: string
  featured?: boolean
  ribbon?: string
}

export interface Props {
  services: Service[]
}

const { services = [] } = Astro.props
---

<section class="py-16 md:py-20">
  <div class="mx-auto max-w-6xl px-4">
    <h2 class="text-center text-4xl md:text-5xl font-heading font-extrabold text-beach-dark">Our Services</h2>
    <p class="mt-3 text-center text-lg text-beach-dark/70">Choose the solution that fits your business goals and budget</p>

    <div class="mt-10 grid gap-8 md:grid-cols-3">
      {services.map((s, i) => {
        const isFeatured = !!s.featured
        return (
          <article
            class={`relative rounded-2xl shadow-[0_8px_24px_rgba(12,55,69,.08)] border overflow-hidden
              ${isFeatured
                ? 'bg-[linear-gradient(180deg,#5DB3F1_0%,#3A87D9_100%)] text-white border-transparent'
                : 'bg-white text-beach-dark border-[#E7EDF3]'}
            `}
          >
            {isFeatured && (
              <span class="pointer-events-none absolute right-0 top-0 h-0 w-0">
                <span
                  class="absolute -right-8 top-6 rotate-45 bg-beach-yellow px-6 py-1 text-[10px] font-semibold text-beach-dark shadow whitespace-nowrap"
                >
                  FEATURED
                </span>
              </span>
            )}

            <div class="p-8">
              {/* Icon puck */}
              <div class={`mb-5 grid h-12 w-12 place-items-center rounded-full
                          ${isFeatured ? 'bg-white/20' : 'bg-beach-blue/10'}`}>
                {s.title === 'Custom Web Design' && (
                  <i data-lucide="palette" class={`w-6 h-6 ${isFeatured ? 'text-white' : 'text-beach-blue'}`}></i>
                )}
                {s.title === 'AI Development' && (
                  <i data-lucide="cpu" class={`w-6 h-6 ${isFeatured ? 'text-white' : 'text-beach-blue'}`}></i>
                )}
                {s.title === 'SEO Services' && (
                  <i data-lucide="search" class={`w-6 h-6 ${isFeatured ? 'text-white' : 'text-beach-blue'}`}></i>
                )}
              </div>

              <h3 class={`text-2xl font-heading font-bold leading-tight
                          ${isFeatured ? 'text-white' : 'text-beach-dark'}`}>
                {s.title}
              </h3>

              {s.headline && (
                <p class={`mt-2 text-base font-semibold
                           ${isFeatured ? 'text-beach-yellow' : 'text-beach-blue'}`
                }>
                  {s.headline}
                </p>
              )}

              <p class={`mt-3 text-[15px] leading-7
                         ${isFeatured ? 'text-white/90' : 'text-beach-dark/70'}`}>
                {s.description}
              </p>

              <ul class="mt-6 space-y-2">
                {s.bullets.map((b) => (
                  <li class="flex items-start gap-3 text-sm leading-6">
                    <svg viewBox="0 0 20 20" width="16" height="16"
                         class={`mt-0.5 ${isFeatured ? 'text-beach-yellow' : 'text-green-500'}`} fill="none">
                      <path d="M6 10.5l2.2 2.2L14 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span class={isFeatured ? 'text-white/90' : 'text-beach-dark/80'}>{b}</span>
                  </li>
                ))}
              </ul>

              <a href={s.href}
                 class={`mt-8 inline-flex h-12 items-center justify-center rounded-xl px-5 text-[15px] font-semibold transition w-full
                         ${isFeatured
                           ? 'bg-beach-yellow text-beach-dark hover:bg-yellow-500 hover:shadow-lg'
                           : 'border border-beach-blue text-beach-blue hover:bg-beach-blue hover:text-white hover:shadow-md'}`}>
                Learn More <span class="ml-2">â†’</span>
              </a>
            </div>
          </article>
        )
      })}
    </div>
  </div>
</section>
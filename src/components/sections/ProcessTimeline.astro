---
/** ProcessTimeline.astro
 * Universal process component for Beach Bird Studios
 * Tabbed interface for Custom Web Design, AI Development, SEO Services
 * Light theme with optional peach variant
 */
export interface Props {
  variant?: 'default' | 'peach'
}

const { variant = 'default' } = Astro.props
---

<section class={`${variant === 'peach' ? 'bg-[linear-gradient(180deg,var(--bg-peach-from)_0%,var(--bg-peach-to)_100%)]' : ''}`}>
  <div class="container mx-auto max-w-screen-xl px-4 md:px-6 py-16 md:py-24">
  <!-- Section Header -->
  <div class="text-center mb-12">
    <h2 class="text-4xl md:text-5xl font-heading font-semibold tracking-tight text-beach-dark mb-4">
      How It Works
    </h2>
    <p class="text-lg text-beach-dark/70 max-w-2xl mx-auto">
      Simple, transparent process from start to finish
    </p>
  </div>

  <!-- Service Tabs -->
  <div class="flex justify-center mb-12">
    <div class="inline-flex bg-white rounded-lg p-1 shadow-sm border border-[#E7EDF3]">
      <button 
        class="process-tab px-6 py-3 rounded-[var(--radius-md)] text-sm font-medium transition bg-beach-blue text-white shadow-sm"
        data-tab="custom-web-design"
      >
        Custom Web Design
      </button>
      <button 
        class="process-tab px-6 py-3 rounded-[var(--radius-md)] text-sm font-medium transition text-beach-dark/60 hover:text-beach-blue"
        data-tab="ai-development"
      >
        AI Development
      </button>
      <button 
        class="process-tab px-6 py-3 rounded-[var(--radius-md)] text-sm font-medium transition text-beach-dark/60 hover:text-beach-blue"
        data-tab="seo-services"
      >
        SEO Services
      </button>
    </div>
  </div>

  <!-- Desktop Timeline -->
  <div class="hidden lg:block">
    <div class="relative">
      <div class="absolute top-8 left-8 right-8 h-0.5 bg-gray-300"></div>

      <!-- Custom Web Design Process -->
      <div class="process-content grid grid-cols-4 gap-8 relative z-10" id="custom-web-design">
        <div class="relative">
          <div class="flex justify-center mb-6">
            <div class="w-16 h-16 rounded-full bg-white flex items-center justify-center text-beach-blue font-bold text-xl border-4 border-white shadow-md">
              1
            </div>
          </div>
          <div class="text-center space-y-3">
            <h4 class="text-lg font-heading font-semibold text-beach-dark">
              Discovery & Strategy
            </h4>
            <p class="text-sm text-beach-dark/70 leading-relaxed">
              We dive deep into your business goals and target audience to create a strategic foundation.
            </p>
          </div>
        </div>

        <div class="relative">
          <div class="flex justify-center mb-6">
            <div class="w-16 h-16 rounded-full bg-white flex items-center justify-center text-beach-blue font-bold text-xl border-4 border-white shadow-md">
              2
            </div>
          </div>
          <div class="text-center space-y-3">
            <h4 class="text-lg font-heading font-semibold text-beach-dark">
              Design & Mockups
            </h4>
            <p class="text-sm text-beach-dark/70 leading-relaxed">
              Our designers create stunning visual concepts and interactive prototypes.
            </p>
          </div>
        </div>

        <div class="relative">
          <div class="flex justify-center mb-6">
            <div class="w-16 h-16 rounded-full bg-white flex items-center justify-center text-beach-blue font-bold text-xl border-4 border-white shadow-md">
              3
            </div>
          </div>
          <div class="text-center space-y-3">
            <h4 class="text-lg font-heading font-semibold text-beach-dark">
              Development & Testing
            </h4>
            <p class="text-sm text-beach-dark/70 leading-relaxed">
              Clean, responsive code development with rigorous testing across all devices.
            </p>
          </div>
        </div>

        <div class="relative">
          <div class="flex justify-center mb-6">
            <div class="w-16 h-16 rounded-full bg-beach-yellow flex items-center justify-center text-beach-dark font-bold text-xl border-4 border-white shadow-md">
              <i data-lucide="trophy" class="w-6 h-6"></i>
            </div>
          </div>
          <div class="text-center space-y-3">
            <h4 class="text-lg font-heading font-semibold text-beach-dark">
              Launch & Training
            </h4>
            <p class="text-sm text-beach-dark/70 leading-relaxed">
              Seamless deployment with comprehensive training for your new website.
            </p>
          </div>
        </div>
      </div>

      <!-- AI Development Process -->
      <div class="process-content grid grid-cols-4 gap-8 relative z-10 hidden" id="ai-development">
        <div class="relative">
          <div class="flex justify-center mb-6">
            <div class="w-16 h-16 rounded-full bg-white flex items-center justify-center text-beach-blue font-bold text-xl border-4 border-white shadow-md">
              1
            </div>
          </div>
          <div class="text-center space-y-3">
            <h4 class="text-lg font-heading font-semibold text-beach-dark">
              Market Research & Planning
            </h4>
            <p class="text-sm text-beach-dark/70 leading-relaxed">
              Comprehensive market analysis and strategic planning for maximum search coverage.
            </p>
          </div>
        </div>

        <div class="relative">
          <div class="flex justify-center mb-6">
            <div class="w-16 h-16 rounded-full bg-white flex items-center justify-center text-beach-blue font-bold text-xl border-4 border-white shadow-md">
              2
            </div>
          </div>
          <div class="text-center space-y-3">
            <h4 class="text-lg font-heading font-semibold text-beach-dark">
              Content Strategy Development
            </h4>
            <p class="text-sm text-beach-dark/70 leading-relaxed">
              AI-powered content planning for every service and location page.
            </p>
          </div>
        </div>

        <div class="relative">
          <div class="flex justify-center mb-6">
            <div class="w-16 h-16 rounded-full bg-white flex items-center justify-center text-beach-blue font-bold text-xl border-4 border-white shadow-md">
              3
            </div>
          </div>
          <div class="text-center space-y-3">
            <h4 class="text-lg font-heading font-semibold text-beach-dark">
              AI-Powered Page Generation
            </h4>
            <p class="text-sm text-beach-dark/70 leading-relaxed">
              Automated creation of 100+ optimized pages with industry-specific content.
            </p>
          </div>
        </div>

        <div class="relative">
          <div class="flex justify-center mb-6">
            <div class="w-16 h-16 rounded-full bg-beach-yellow flex items-center justify-center text-beach-dark font-bold text-xl border-4 border-white shadow-md">
              <i data-lucide="trophy" class="w-6 h-6"></i>
            </div>
          </div>
          <div class="text-center space-y-3">
            <h4 class="text-lg font-heading font-semibold text-beach-dark">
              Launch & Performance Monitoring
            </h4>
            <p class="text-sm text-beach-dark/70 leading-relaxed">
              Site deployment with ongoing performance tracking and optimization.
            </p>
          </div>
        </div>
      </div>

      <!-- SEO Services Process -->
      <div class="process-content grid grid-cols-4 gap-8 relative z-10 hidden" id="seo-services">
        <div class="relative">
          <div class="flex justify-center mb-6">
            <div class="w-16 h-16 rounded-full bg-white flex items-center justify-center text-beach-blue font-bold text-xl border-4 border-white shadow-md">
              1
            </div>
          </div>
          <div class="text-center space-y-3">
            <h4 class="text-lg font-heading font-semibold text-beach-dark">
              SEO Audit & Analysis
            </h4>
            <p class="text-sm text-beach-dark/70 leading-relaxed">
              Comprehensive analysis of your current SEO performance and competitor research.
            </p>
          </div>
        </div>

        <div class="relative">
          <div class="flex justify-center mb-6">
            <div class="w-16 h-16 rounded-full bg-white flex items-center justify-center text-beach-blue font-bold text-xl border-4 border-white shadow-md">
              2
            </div>
          </div>
          <div class="text-center space-y-3">
            <h4 class="text-lg font-heading font-semibold text-beach-dark">
              Strategy Development
            </h4>
            <p class="text-sm text-beach-dark/70 leading-relaxed">
              Create a customized SEO strategy with keyword research and content planning.
            </p>
          </div>
        </div>

        <div class="relative">
          <div class="flex justify-center mb-6">
            <div class="w-16 h-16 rounded-full bg-white flex items-center justify-center text-beach-blue font-bold text-xl border-4 border-white shadow-md">
              3
            </div>
          </div>
          <div class="text-center space-y-3">
            <h4 class="text-lg font-heading font-semibold text-beach-dark">
              Implementation & Optimization
            </h4>
            <p class="text-sm text-beach-dark/70 leading-relaxed">
              Execute on-page and technical SEO improvements across your website.
            </p>
          </div>
        </div>

        <div class="relative">
          <div class="flex justify-center mb-6">
            <div class="w-16 h-16 rounded-full bg-beach-yellow flex items-center justify-center text-beach-dark font-bold text-xl border-4 border-white shadow-md">
              <i data-lucide="trophy" class="w-4 h-4"></i>
            </div>
          </div>
          <div class="text-center space-y-3">
            <h4 class="text-lg font-heading font-semibold text-beach-dark">
              Monitoring & Reporting
            </h4>
            <p class="text-sm text-beach-dark/70 leading-relaxed">
              Ongoing performance tracking with detailed monthly reports and adjustments.
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- Mobile Timeline (stacked vertically) -->
    <div class="lg:hidden">
      <!-- Custom Web Design Mobile -->
      <div class="process-content-mobile space-y-6" id="custom-web-design-mobile">
        <div class="flex items-start space-x-4">
          <div class="w-12 h-12 rounded-full bg-surface flex items-center justify-center text-primary-400 font-bold text-lg border-4 border-border shadow-[var(--shadow-md)] flex-shrink-0">
            1
          </div>
          <div class="flex-1">
            <h4 class="text-lg font-heading font-semibold text-beach-dark mb-2">Discovery & Strategy</h4>
            <p class="text-sm text-text/70">We dive deep into your business goals and target audience to create a strategic foundation.</p>
          </div>
        </div>
        <div class="ml-6"><div class="w-0.5 h-6 bg-gray-300 mx-auto"></div></div>

        <div class="flex items-start space-x-4">
          <div class="w-12 h-12 rounded-full bg-surface flex items-center justify-center text-primary-400 font-bold text-lg border-4 border-border shadow-[var(--shadow-md)] flex-shrink-0">
            2
          </div>
          <div class="flex-1">
            <h4 class="text-lg font-heading font-semibold text-beach-dark mb-2">Design & Mockups</h4>
            <p class="text-sm text-text/70">Our designers create stunning visual concepts and interactive prototypes.</p>
          </div>
        </div>
        <div class="ml-6"><div class="w-0.5 h-6 bg-gray-300 mx-auto"></div></div>

        <div class="flex items-start space-x-4">
          <div class="w-12 h-12 rounded-full bg-surface flex items-center justify-center text-primary-400 font-bold text-lg border-4 border-border shadow-[var(--shadow-md)] flex-shrink-0">
            3
          </div>
          <div class="flex-1">
            <h4 class="text-lg font-heading font-semibold text-beach-dark mb-2">Development & Testing</h4>
            <p class="text-sm text-text/70">Clean, responsive code development with rigorous testing across all devices.</p>
          </div>
        </div>
        <div class="ml-6"><div class="w-0.5 h-6 bg-gray-300 mx-auto"></div></div>

        <div class="flex items-start space-x-4">
          <div class="w-12 h-12 rounded-full bg-accent-600 flex items-center justify-center text-inverse font-bold text-lg border-4 border-border shadow-[var(--shadow-md)] flex-shrink-0">
            <i data-lucide="trophy" class="w-4 h-4"></i>
          </div>
          <div class="flex-1">
            <h4 class="text-lg font-heading font-semibold text-beach-dark mb-2">Launch & Training</h4>
            <p class="text-sm text-text/70">Seamless deployment with comprehensive training for your new website.</p>
          </div>
        </div>
      </div>

      <!-- AI Development Mobile -->
      <div class="process-content-mobile space-y-6 hidden" id="ai-development-mobile">
        <div class="flex items-start space-x-4">
          <div class="w-12 h-12 rounded-full bg-surface flex items-center justify-center text-primary-400 font-bold text-lg border-4 border-border shadow-[var(--shadow-md)] flex-shrink-0">
            1
          </div>
          <div class="flex-1">
            <h4 class="text-lg font-heading font-semibold text-beach-dark mb-2">Market Research & Planning</h4>
            <p class="text-sm text-text/70">Comprehensive market analysis and strategic planning for maximum search coverage.</p>
          </div>
        </div>
        <div class="ml-6"><div class="w-0.5 h-6 bg-gray-300 mx-auto"></div></div>

        <div class="flex items-start space-x-4">
          <div class="w-12 h-12 rounded-full bg-surface flex items-center justify-center text-primary-400 font-bold text-lg border-4 border-border shadow-[var(--shadow-md)] flex-shrink-0">
            2
          </div>
          <div class="flex-1">
            <h4 class="text-lg font-heading font-semibold text-beach-dark mb-2">Content Strategy Development</h4>
            <p class="text-sm text-text/70">AI-powered content planning for every service and location page.</p>
          </div>
        </div>
        <div class="ml-6"><div class="w-0.5 h-6 bg-gray-300 mx-auto"></div></div>

        <div class="flex items-start space-x-4">
          <div class="w-12 h-12 rounded-full bg-surface flex items-center justify-center text-primary-400 font-bold text-lg border-4 border-border shadow-[var(--shadow-md)] flex-shrink-0">
            3
          </div>
          <div class="flex-1">
            <h4 class="text-lg font-heading font-semibold text-beach-dark mb-2">AI-Powered Page Generation</h4>
            <p class="text-sm text-text/70">Automated creation of 100+ optimized pages with industry-specific content.</p>
          </div>
        </div>
        <div class="ml-6"><div class="w-0.5 h-6 bg-gray-300 mx-auto"></div></div>

        <div class="flex items-start space-x-4">
          <div class="w-12 h-12 rounded-full bg-accent-600 flex items-center justify-center text-inverse font-bold text-lg border-4 border-border shadow-[var(--shadow-md)] flex-shrink-0">
            <i data-lucide="trophy" class="w-4 h-4"></i>
          </div>
          <div class="flex-1">
            <h4 class="text-lg font-heading font-semibold text-beach-dark mb-2">Launch & Performance Monitoring</h4>
            <p class="text-sm text-text/70">Site deployment with ongoing performance tracking and optimization.</p>
          </div>
        </div>
      </div>

      <!-- SEO Services Mobile -->
      <div class="process-content-mobile space-y-6 hidden" id="seo-services-mobile">
        <div class="flex items-start space-x-4">
          <div class="w-12 h-12 rounded-full bg-surface flex items-center justify-center text-primary-400 font-bold text-lg border-4 border-border shadow-[var(--shadow-md)] flex-shrink-0">
            1
          </div>
          <div class="flex-1">
            <h4 class="text-lg font-heading font-semibold text-beach-dark mb-2">SEO Audit & Analysis</h4>
            <p class="text-sm text-text/70">Comprehensive analysis of your current SEO performance and competitor research.</p>
          </div>
        </div>
        <div class="ml-6"><div class="w-0.5 h-6 bg-gray-300 mx-auto"></div></div>

        <div class="flex items-start space-x-4">
          <div class="w-12 h-12 rounded-full bg-surface flex items-center justify-center text-primary-400 font-bold text-lg border-4 border-border shadow-[var(--shadow-md)] flex-shrink-0">
            2
          </div>
          <div class="flex-1">
            <h4 class="text-lg font-heading font-semibold text-beach-dark mb-2">Strategy Development</h4>
            <p class="text-sm text-text/70">Create a customized SEO strategy with keyword research and content planning.</p>
          </div>
        </div>
        <div class="ml-6"><div class="w-0.5 h-6 bg-gray-300 mx-auto"></div></div>

        <div class="flex items-start space-x-4">
          <div class="w-12 h-12 rounded-full bg-surface flex items-center justify-center text-primary-400 font-bold text-lg border-4 border-border shadow-[var(--shadow-md)] flex-shrink-0">
            3
          </div>
          <div class="flex-1">
            <h4 class="text-lg font-heading font-semibold text-beach-dark mb-2">Implementation & Optimization</h4>
            <p class="text-sm text-text/70">Execute on-page and technical SEO improvements across your website.</p>
          </div>
        </div>
        <div class="ml-6"><div class="w-0.5 h-6 bg-gray-300 mx-auto"></div></div>

        <div class="flex items-start space-x-4">
          <div class="w-12 h-12 rounded-full bg-accent-600 flex items-center justify-center text-inverse font-bold text-lg border-4 border-border shadow-[var(--shadow-md)] flex-shrink-0">
            <i data-lucide="trophy" class="w-4 h-4"></i>
          </div>
          <div class="flex-1">
            <h4 class="text-lg font-heading font-semibold text-beach-dark mb-2">Monitoring & Reporting</h4>
            <p class="text-sm text-text/70">Ongoing performance tracking with detailed monthly reports and adjustments.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Call to Action -->
  <div class="text-center mt-16">
    <a href="/contact" class="inline-flex items-center gap-2 rounded-lg bg-beach-blue text-white px-5 py-3 font-medium shadow-sm hover:bg-blue-600 focus:ring-2 focus:ring-beach-blue focus:outline-none transition">
      Schedule Free Consultation <i data-lucide="arrow-right" class="w-4 h-4"></i>
    </a>
  </div>
  </div>
</section>

<script>
  // Tab switching functionality
  document.addEventListener('DOMContentLoaded', function() {
    const tabs = document.querySelectorAll('.process-tab');
    const contentDesktop = document.querySelectorAll('.process-content');
    const contentMobile = document.querySelectorAll('.process-content-mobile');

    tabs.forEach(tab => {
      tab.addEventListener('click', (e) => {
        const target = e.target as HTMLElement;
        const targetTab = target.getAttribute('data-tab');

        // Update tab appearance
        tabs.forEach(t => {
          t.classList.remove('bg-beach-blue', 'text-white', 'shadow-sm');
          t.classList.add('text-beach-dark/60', 'hover:text-beach-blue');
        });
        target.classList.add('bg-beach-blue', 'text-white', 'shadow-sm');
        target.classList.remove('text-beach-dark/60', 'hover:text-beach-blue');

        // Show/hide desktop content
        contentDesktop.forEach(content => {
          content.classList.add('hidden');
        });
        const desktopTarget = document.getElementById(targetTab!);
        if (desktopTarget) {
          desktopTarget.classList.remove('hidden');
        }

        // Show/hide mobile content
        contentMobile.forEach(content => {
          content.classList.add('hidden');
        });
        const mobileTarget = document.getElementById(targetTab! + '-mobile');
        if (mobileTarget) {
          mobileTarget.classList.remove('hidden');
        }
      });
    });
  });
</script>